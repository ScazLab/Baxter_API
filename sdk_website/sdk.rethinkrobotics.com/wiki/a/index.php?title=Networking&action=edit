<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>View source for Networking - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Networking","wgTitle":"Networking","wgCurRevisionId":3923,"wgRevisionId":0,"wgArticleId":322,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Networking","wgRelevantArticleId":322,"wgRequestId":"c604abe58a73b217f37d40cc","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@01doy7a",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://sdk.rethinkrobotics.com/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Networking rootpage-Networking skin-cavendishmw-rethinkrobotics action-edit"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="../../wiki" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="http://sdk-accounts.rethinkrobotics.com/public/NewUser">Create account</a><a href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Special:UserLogin&amp;returnto=Networking&amp;returntoquery=action%3Dedit">Log in</a></div>
        <!-- Search box -->
            <form action="http://sdk.rethinkrobotics.com/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">View source for Networking</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="index.php?title=Networking&amp;action=edit#">More</a><ul><li id="ca-viewsource" class="selected"><a href="index.php?title=Networking&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="index.php?title=Networking&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="../Networking" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="../Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="../Learning">Learning</a></li>
                <li id="n-Community"><a href="../Community">Community</a></li>
                <li id="n-Support"><a href="../Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="../Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="../Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="../Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub">← <a href="../Networking" title="Networking">Networking</a></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php?title=Networking&amp;action=edit#column-one">navigation</a>, <a href="index.php?title=Networking&amp;action=edit#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text"><p>You do not have permission to edit this page, for the following reasons:
</p>
<ul class="permissions-errors">
<li>The action you have requested is limited to users in the group: <a href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Sdk-wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Sdk-wiki:Users (page does not exist)">Users</a>.</li>
<li>This page has been protected to prevent editing or other actions.</li>
</ul>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">== Summary ==
The Baxter Research Robot uses ROS to communicate with the user's Development Workstation.  This requires an ethernet network to be established between Baxter and the Workstation with full bi-directional connectivity.  If you have trouble connecting to your Baxter, see this page for our Recommended Network Setup and other common network debugging steps.

== Basics ==
These Network Configuration settings are available in the [[Field Service Menu (FSM)]]
=== Basic Requirements ===

Baxter must be connected to a development workstation which uses ROS over an ethernet network to communicate bi-directionally.

Baxter's [[Robot Hostname|hostname]] can be configured using the [[Field Service Menu (FSM)]] if you do not like the one given out at the factory which matches its [[Serial Number|serial number]].
=== Network address assignment ===
Baxter supports IPV4 addressing for the following network configurations:
* Automatic address assignment (“Automatic” mode)
** If a DHCP server is present in the network, the DHCP server automatically assigns a network address to the robot, and may (or may not) assign a DNS server for host name resolution.
** If no DHCP server is present, the robot will use the Autoip protocol to assign itself a link-local address in the 169.254.0.0/16 address block.
** All assignments in this mode are automatic, and no options can be configured manually.
* Manual address assignment from the Field Service Menu (“Manual” mode)
** The user must specify a valid IPV4 address for the robot, and may optionally specify a network mask, default gateway address, and DNS server address. All network options are configured manually.
=== Host name resolution ===
In all addressing modes, Baxter provides link-local advertising of the robot’s host name as “&lt;robot name>.local” using the Avahi mDNS service. Computers that are located in the same subnet as the robot and that support mDNS can always resolve the robot’s host name as “&lt;robot name>.local” even if no other host name resolution service is present. Baxter will also be able to communicate with these computers using their host names.

In “Automatic” addressing mode, Baxter will be able to resolve external host names only if the network’s DHCP server supplies a DNS server address. If the DHCP server does not provide a DNS server address, Baxter will only be able to communicate with external computers by their IP addresses.

In “Manual” addressing mode, Baxter will be able to resolve external host names only if the user specifies a DNS server address (and a default gateway address if computers in a different subnet are involved). If the user does not provide a DNS server address, Baxter will only be able to communicate with computers by their IP addresses.  If the user does not provide a default gateway address, Baxter will only be able to communicate with computers within the same subnet.

=== Baxter ROS Naming Conventions ===
Baxter supports 3 ROS naming conventions.  These control how the ROS Master publishes the access information for the individual nodes published by the robot.  Regardless of how you connect to the robot, you will need to be able to reach it by the address configured by its ROS naming convention if you want to be able to interact with it. (i.e. if you can reach the robot by its IP, but it is configured with the ROS_HOSTNAME convention and you can't reach it by its hostname, then you will be unable to do meaningful work with the robot)
* '''ROS_HOSTNAME.local:''' This publishes the nodes at &lt;code>&lt;robot hostname>.local&lt;/code>
** This is the least versatile, but the most stable configuration, and is our recommended when it is available.
** This convention only works in a local setup, where your robot and development machine are on the same subnet, but will '''almost always''' work in that network configuration.
** This will only break if
*** A naming conflict is introduced on the local network or
*** You manually change the hostname of the robot.
* '''ROS_IP:'''  This publishes the nodes at the IP4 Address associated with the robot
** This is the most versatile naming convention, but also the most fragile.
** It will work in any network configuration where you have connectivity to the robot, but will break if the IP of the robot changes
* '''ROS_HOSTNAME:''' This publishes the nodes at the hostname of the robot.
** This configuration has medium versatility and stability.
** It only works if there is a working DNS running on your network, and pointed at the robot.
** This will only break if
*** A naming conflict is introduced in the network or
*** If the the DNS-resolved hostname of the robot is changed, which can be done by the Server admin, but is unlikely to happen.

== Network Configurations ==

=== Recommended Network Configuration ===

The recommended network configuration is to connect your development workstation and your Baxter to an all in one SOHO (Small Office/Home Office) router/firewall similar to the Linksys EA-Series routers. This type of router provides DHCP and other networking services, and has the benefit of keeping the network traffic off of your main network. It also allows the development workstation access to internet in particular, the Rethink Robotics github repo for code and documentation.

[[File:RSDK_Network2.png|600px]]
* Baxter and the user's computer can both be set to "Automatic" addressing mode, which will draw IP information directly from the router.
====Baxter====
* Baxter can be set to use either ROS_IP or ROS_HOSTNAME.local:
*# ROS_HOSTNAME.local is our '''recommended''' ros naming protocol for the robot in this setup.  It is very stable in this network configuration, and would only need to be adjusted if you switch to a separate subnet from the robot.
*#* If you can &lt;code>ping &lt;robot hostname>.local&lt;/code>, then the network is working correctly
*# ROS_IP is the most reliable naming method, if you know that the robot is going to keep its .IP.  This naming protocol works across all network configurations as long as you have reliable routing to the robot.
*#* If you can &lt;code> ping &lt;robot ip>&lt;/code> then the network is working correctly.
*#* '''Note:''' You can set the robot to use a Static IP if you are interested in using this naming convention because you are unsure of your future network configurations, but be sure to talk to your network administrator if you are hooking your router up to a larger network.
====Dev Machine====
* In this network configuration, you will want to have your [[RSDK Shell|baxter.sh]] script point to either:
*# ROS_IP = "&lt;your development machine's IPV4 Address>"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's IPV4 Address>&lt;/code>
*# ROS_HOSTNAME = "&lt;your development machine's hostname>.local"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's hostname>.local&lt;/code>

=== Connect Directly To Corporate Or University Network ===

Another viable networking configuration is to connect Baxter directly to your corporate or university network. Here you need to make sure that a DHCP server is available, and that your name server can resolve baxter's hostname to an IP address. If you plan on using DHCP reservation using Baxter's MAC address, you can get the MAC address by using [[TTY#TTY3 - Network Info Display|TTY3]].

You can set Baxter to use either "Automatic" addressing or a static IP configuration in this configuration.

'''Note:''' If you want to set a static IP, you will need to talk to your network administrator to get an appropriate IP for you to assign, in order to avoid network collisions.
====Baxter====
In this network configuration, you can use either ROS_IP or ROS_HOSTNAME ROS naming conventions
* In this setup, we recommend using the ROS_HOSTNAME convention.  This will rely on your DNS and on not having someone else register a duplicate of your hostname (so pick a unique one), but will be very stable in this network configuration.
** If you can &lt;code>ping &lt;robot hostname>&lt;/code> then the network is working.
* As mentioned in the previous section, ROS_IP is the most versatile ROS naming convention that works across the most network configurations, but is susceptible to automatic IP changes when a lease is exceeded.
** If you can &lt;code>ping &lt;robot IP>&lt;/code> then the network is working.
====Dev Machine====
* In this network configuration, you will want to have your [[RSDK Shell|baxter.sh]] script point to either:
*# ROS_IP = "&lt;your development machine's IPV4 Address>"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's IPV4 Address>&lt;/code>
*# ROS_HOSTNAME = "&lt;your development machine's hostname>"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's hostname>&lt;/code>

== Direct Network Configuration ==

If you do not have a DHCP server or other networking infrastructure, or would just prefer to connect your development workstation directly to Baxter, you can do so using the following network configuration and steps.

[[File:RSDK_Network1.png|600px]]

====Baxter====
In this setup, you will need to set your robot to use "Automatic" addressing, and can choose between ROS_IP and ROS_HOSTNAME.local for your ROS naming convention.
# ROS_HOSTNAME.local is our '''recommended''' ros naming protocol for the robot in this setup.  It is very stable in this network configuration, and would only need to be adjusted if you switch to a separate subnet from the robot.
#* If you can &lt;code>ping &lt;robot hostname>.local&lt;/code>, then the network is working correctly
# ROS_IP is the most reliable naming method, if you know that the robot is going to keep its .IP.  This naming protocol works across all network configurations as long as you have reliable routing to the robot.
#* If you can &lt;code> ping &lt;robot ip>&lt;/code> then the network is working correctly.
#* '''Note:''' You can set the robot to use a Static IP if you are interested in using this naming convention because you are unsure of your future network configurations, but be sure to talk to your network administrator if you are hooking your router up to a larger network.
====Dev Machine====
* In this network configuration, you will want to have your [[RSDK Shell|baxter.sh]] script point to either:
*# ROS_IP = "&lt;your development machine's IPV4 Address>"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's IPV4 Address>&lt;/code>
*# ROS_HOSTNAME = "&lt;your development machine's hostname>.local"
*#* Verify 2-way connectivity by [[SSH]]ing into the robot and attempting to &lt;code>ping &lt;your development machine's hostname>.local&lt;/code>
===== Avahi Configuration Steps: =====
These steps assume your ethernet connection to the robot is on &lt;code>eth0&lt;/code>.
* Shutdown Baxter and disconnect ethernet cable.
* Connect the laptop/workstation to Baxter using a Category-5 ethernet cable.
* Power up Baxter.
* Disable firewall on laptop if necessary:
&lt;source lang="bash">
    $ sudo ufw disable  
&lt;/source>

* Turn off the Ubuntu Network-Manager to prevent interference:
* Go to the Networking Icon drop-down menu in the top-right of the Desktop.
* Make sure 'Enable Networking' is '''unchecked''' (if checked, select the option in the menu to disable)

* Check status of eth0:
&lt;source lang="bash">
    $ ifconfig eth0  
&lt;/source>
''You should not see any IP addresses under 'inet'.''

* Use Avahi to designate an IP address to eth0 (do not close the terminal after running avahi-autoipd):
&lt;source lang="bash">
    $ sudo avahi-autoipd eth0  
&lt;/source>

* Make sure an IP address is successfully claimed. eg:
&lt;source lang="bash">
    Found user 'avahi-autoipd' (UID 104) and group 'avahi-autoipd' (GID 111).
    Successfully called chroot().
    Successfully dropped root privileges.
    Starting with address 169.254.8.16
    Callout BIND, address 169.254.8.16 on interface eth0
    Successfully claimed IP address 169.254.8.16
&lt;/source>
''Keep this Terminal running in the background.''

* Open a '''New Terminal''' to continue.
* Find the local hostname of the robot by running avahi-browse:

&lt;source lang="bash">
    $ avahi-browse -a -r  
&lt;/source>
    The default local hostname of the robot is the [[Serial Number]] followed by local. Ex: '011303P0017.local'.

== Troubleshooting ==
See the [http://www.ros.org/wiki/ROS/NetworkSetup ROS Network Setup Guide] for common ROS network issues and helpful debugging steps to check your base ROS connectivity.
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="../Networking" title="Networking">Networking</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../Networking">http://sdk.rethinkrobotics.com/wiki/Networking</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="../Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="../Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="../Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="../Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":70});});</script></body></html>