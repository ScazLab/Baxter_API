<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>View source for Baxter Solves Rubiks Cube - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Baxter_Solves_Rubiks_Cube","wgTitle":"Baxter Solves Rubiks Cube","wgCurRevisionId":3214,"wgRevisionId":0,"wgArticleId":651,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Baxter_Solves_Rubiks_Cube","wgRelevantArticleId":651,"wgRequestId":"eb23f3f270aebdfb08ac5ca9","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@01doy7a",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://sdk.rethinkrobotics.com/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Baxter_Solves_Rubiks_Cube rootpage-Baxter_Solves_Rubiks_Cube skin-cavendishmw-rethinkrobotics action-edit"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="../../wiki" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="http://sdk-accounts.rethinkrobotics.com/public/NewUser">Create account</a><a href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Special:UserLogin&amp;returnto=Baxter+Solves+Rubiks+Cube&amp;returntoquery=action%3Dedit">Log in</a></div>
        <!-- Search box -->
            <form action="http://sdk.rethinkrobotics.com/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">View source for Baxter Solves Rubiks Cube</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="index.php?title=Baxter_Solves_Rubiks_Cube&amp;action=edit#">More</a><ul><li id="ca-viewsource" class="selected"><a href="index.php?title=Baxter_Solves_Rubiks_Cube&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="index.php?title=Baxter_Solves_Rubiks_Cube&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="../Baxter_Solves_Rubiks_Cube" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="../Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="../Learning">Learning</a></li>
                <li id="n-Community"><a href="../Community">Community</a></li>
                <li id="n-Support"><a href="../Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="../Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="../Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="../Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub">‚Üê <a href="../Baxter_Solves_Rubiks_Cube" title="Baxter Solves Rubiks Cube">Baxter Solves Rubiks Cube</a></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php?title=Baxter_Solves_Rubiks_Cube&amp;action=edit#column-one">navigation</a>, <a href="index.php?title=Baxter_Solves_Rubiks_Cube&amp;action=edit#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text"><p>You do not have permission to edit this page, for the following reasons:
</p>
<ul class="permissions-errors">
<li>The action you have requested is limited to users in the group: <a href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Sdk-wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Sdk-wiki:Users (page does not exist)">Users</a>.</li>
<li>This page has been protected to prevent editing or other actions.</li>
</ul>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">

== Summary ==
Version 1.0 of Active Robots Systems Integration Example, using the Baxter Research Robot to solve a Rubik's Cube.

This project was conceived to give an example of how to easily integrate the Baxter Research Robot into a research application, including the use of additional open and closed source software libraries, the Baxter Research Robot Research Software Development Kit (RSDK) and external sensors integrated into the system as a whole, with no custom designed hardware, everything is 'out-of-the-box'.

This version of the software was first publicly demonstrated at the [http://www.active-robots.com/our-blog/rethink-robotics-uk-conference-2014-2// Rethink Robotics UK Conference], hosted by [http://www.active-robots.com/ Active Robots], with Guest Speaker: Rodney Brooks. Earlier versions were demonstrated at various Universities around the UK from November 2013.

== Project Video ==

{{#ev:youtube|vF9usYszChU|500|left}}

== Developers ==

* [[User:Activerobots#Horatio_Coles-Abell | Horatio Coles-Abell]]  - Cybernetics Engineer, [http://www.active-robots.com/ Active Robots]

* [[User:Activerobots#Vyvyan_Pugh | Vyvyan Pugh]]  - Senior Programmer, [http://www.active-robots.com/ Active Robots]

== Previous Versions ==

[http://www.youtube.com/watch?v=-CbAVRd5f4o/ Baxter Research Robot Rubiks Cube Solving Beta v0.1]
















== System Workflow Overview ==

The process workflow was as follows:


&lt;span style="font-size:200%;">Detect -> Verify -> Solve -> Manipulate -> Complete&lt;/span>


== Detect ==

Using Baxter's Zero Force Gravity Compensation mode, Baxter is taught the position of the flatbed scanner. Baxter then uses the scanner to take an image of each of the Rubik's cubes 6 faces. Using the functionality of the open-source computer vision library, [http://opencv.org/ OpenCV], the images are processed using a combination of square, line, edge and blob detection. Missing squares are interpolated from the known 3x3 pattern if needed. Colours are then sampled from the centre of each of the 9 squares on the face and matched as RGB tuples in vector space. A mapping of the cube is generated.

== Verify ==

Custom verification algorithms were developed that verify the mapping created is of a valid cube. Finding the cube to be invalid would indicate that the detection was flawed, and lead to Baxter re-evaluating the cube with the scanner. Verification checks include determining that there are: 6 distinct colours, 9 of each colour, centres are unique, edges/corners have valid colours and are unique.

== Solve ==

Solving of the Rubik's Cube is performed using the Kociemba algorithm. Developed by Herbert Kociemba in 1992, it was used in 2010 to prove that all mappings of the Rubik's cube can be solved in [http://www.cube20.org/ 20 or fewer moves]. We used a closed source implementation for ease of use, however open source implementations are [http://kociemba.org/ available]. Our cube mapping is given to Kociemba and returned is a list of manipulations to be performed on the cube, in [http://en.wikipedia.org/wiki/Rubik%27s_Cube#Move_notation/ Singmaster Notation], a standard description of Rubik's Cube manipulations.

== Manipulate ==

Most Rubik's cube robots are custom built, with the cube/robot interface being designed or adapted to fit the cube and allow for fast, accurate manipulations with self-centring grips and no possibility of misalignment. This implementation contains no hardware modifications, all grippers and manipulators are standard Rethink Robotics Electric Parallel Grippers, with standard fingers and fingertips. 

Manipulations are achieved using the RSDK to command Inverse Kinematics (IK) moves and the Joint Position Control interface. 

----
----

== Development Changes v0.1 - v1.0==

Beta v0.1 was functional, but had limitations in 2 main areas: 

*Robustness of colour detection in varying light conditions, leading to incorrect colour mapping.
*Robustness of manipulation due to Joint Position Control Accuracy, leading to failed manipulations.


These limitations were addressed in two ways:


*Utilising an external flatbed scanner to enable robust colour detection and matching (instead of head camera), additionally demonstrating the ease of integration of external sensors into the Baxter Research Robot environment.
*Use of the update to the RSDK (version 0.7.0) by Rethink Robotics that improved Joint Position Control Accuracy by a factor of 10.


== Future Development ==

*Update to RSDK v1.0.0.
*Clean code from '''Development''' to '''Release Candidate''' status.
*Expand this wiki entry.
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="../Baxter_Solves_Rubiks_Cube" title="Baxter Solves Rubiks Cube">Baxter Solves Rubiks Cube</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../Baxter_Solves_Rubiks_Cube">http://sdk.rethinkrobotics.com/wiki/Baxter_Solves_Rubiks_Cube</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="../Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="../Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="../Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="../Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":34});});</script></body></html>